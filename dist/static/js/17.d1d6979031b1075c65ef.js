webpackJsonp([17],{"/+m0":function(e,t,a){"use strict";(function(e){var i=a("bOdI"),n=a.n(i),o=a("mvHQ"),s=a.n(o),r=a("0k2b"),l=a("/hEK"),c=a("XLwt"),h=(a.n(c),a("Nf9k"));t.a={name:"page1_2_1",data:function(){return{msg:["审计准备","审计标准及依据","法律法规"],currentPage:1,pages:12,faguiList:[],faguiXq:{},showMin:!1,dialogVisible:!1,dialogVisible2:!1,showGrap:!1,showGrap2:!1,showGrap3:!1,showGrap4:!1,activeName:"first",findWord:"",selectArea:"财务法规",imgShow:!1,tree:!1,name:",",NodeStr:","}},components:{Place:r.a,interBtn:l.a},computed:{companyName:function(){return JSON.parse(this.$store.getters.getCompany)}},methods:{optionTree:function(e){return{tooltip:{trigger:"item",triggerOn:"mousemove"},textStyle:{color:"#000",fontSize:16},series:[{type:"tree",data:e,top:"14%",bottom:"14%",right:0,left:0,expandAndCollapse:!1,layout:"radial",itemStyle:{borderColor:"#c24b4b"},symbol:"emptyCircle",symbolSize:7,initialTreeDepth:3,animationDurationUpdate:750}]}},search:function(t){var a=this,i=this;if(i.currentPage=1,i.imgShow=!1,i.treeList=!1,i.tree=!1,""===t)alert("请填写需要查询的关键词");else{i.NodeStr=t,i.getListPages(),i.handleCurrentChange(1),i.tree=!0;var n=c.init(document.getElementById("searchTree"));n.showLoading();var o="财务法规"==this.selectArea||1==this.selectArea?1:2;h.a.req({apiName:"searchTree",data:{name:t,biaoshi:o}}).then(function(o){if((o=o.data)&&"200"===o.code){n.hideLoading();var r=o.data;console.log(r),r.length>0?(sessionStorage.setItem("znjsTree",s()(r)),sessionStorage.setItem("znjsNode",t),n.setOption(a.optionTree(r)),n.resize({width:"auto",height:"auto"}),e(window).resize(function(){n.resize({width:"auto",height:"auto"})}),n.on("click",function(e){console.log(e),i.currentPage=1;this.getDom().id;var t=this.getDom().textContent,a="";(t=t.split(".")).forEach(function(e,t){a+=e+","}),i.NodeStr=a,i.getListPages(),i.handleCurrentChange(1)})):i.imgShow=!0}else i.imgShow=!0}).catch(function(e){i.imgShow=!0,console.log(e)})}},getListPages:function(){var e=this,t=this.NodeStr,a=this.selectArea;"财务法规"==a||1==Number(a)?h.a.req({apiName:"listPages",data:{name:t,company_name:this.companyName.value}}).then(function(t){if((t=t.data)&&"200"===t.code){var a=t.data;console.log(a),e.pages=Number(a)}}).catch(function(e){console.log(e),alert("接口500错误")}):h.a.req({apiName:"zh_listPages",data:{name:t}}).then(function(t){if((t=t.data)&&"200"===t.code){var a=t.data;console.log(a),e.pages=Number(a)}}).catch(function(e){console.log(e),alert("接口500错误")})},handleCurrentChange:function(e){var t=this,a=this.NodeStr,i=this.selectArea;"财务法规"==i||1==Number(i)?(void 0==a&&(a=this.name),this.name=a,h.a.req({apiName:"faguiList2",data:{num:this.currentPage,name:a,company_name:this.companyName.value}}).then(function(e){if((e=e.data)&&"200"===e.code){var a=e.data;console.log(a),t.faguiList=a}}).catch(function(e){console.log(e),alert("接口500错误")})):h.a.req({apiName:"zh_faguiList",data:{num:this.currentPage,name:a}}).then(function(e){if((e=e.data)&&"200"===e.code){var a=e.data;console.log(a),t.faguiList=a}}).catch(function(e){console.log(e),alert("接口500错误")})},getFaguiXq:function(e){var t=this;this.faguiXq="null",this.dialogVisible=!0;var a=this.selectArea;"财务法规"==a||1==Number(a)?h.a.req({apiName:"faguiXq",data:{ID:1,icon_name:e}}).then(function(e){if((e=e.data)&&"200"===e.code){var a=e.data;console.log(a);var i=a[0].text,n=new RegExp("。","g"),o=new RegExp(" ","g");i=(i=i.replace(n,"。</p><p>")).replace(o,"</p><p>"),a[0].text="<p>"+i+"</p>",t.faguiXq=a}}).catch(function(e){console.log(e),alert("接口500错误")}):h.a.req({apiName:"zihuanXq",data:{ID:1,icon_name:e}}).then(function(e){if((e=e.data)&&"200"===e.code){var a=e.data;console.log(a);var i=a[0].text,n=new RegExp("。","g"),o=new RegExp(" ","g");i=(i=i.replace(n,"。</p><p>")).replace(o,"</p><p>"),a[0].text="<p>"+i+"</p>",t.faguiXq=a}}).catch(function(e){console.log(e),alert("接口500错误")})},unique:function(e){for(var t=[e[0].name],a=[e[0]],i=1;i<e.length;i++)-1==t.indexOf(e[i].name)&&(t.push(e[i].name),a.push(e[i]));console.log(a);for(i=0;i<a.length;i++)a[i].tag&&"值"===a[i].tag&&(a[i].itemStyle={normal:{color:"#68bdf6",borderColor:"#5ca8db",borderWidth:2}},a[i].symbol="diamond");return console.log(a),a},getData:function(t){var a=this;a.dialogVisible2=!0,a.showGrap=!1,a.showGrap2=!1,a.showGrap3=!1,console.log(t),t=t||"空",h.a.req({apiName:"Neo4jToJson",data:{word:t,word1:"南京审计大学"}}).then(function(t){if((t=t.data)&&"200"===t.code){var i=t.data;console.log(i);var n=i.nodes,o=i.links;if(n.length){a.showGrap=!0,n=a.unique(n),console.log(n);var s=c.init(document.getElementById("graphCharts"));s.setOption(a.graphOption(n,o)),e(window).resize(function(){s.resize({width:"auto",height:"auto"})})}else alert("南京审计大学无数据")}}).catch(function(e){console.log(e)}),h.a.req({apiName:"Neo4jToJson",data:{word:t,word1:"审计署"}}).then(function(t){if((t=t.data)&&"200"===t.code){var i=t.data;console.log(i);var n=i.nodes,o=i.links;if(n.length){a.showGrap2=!0,n=a.unique(n),console.log(n);var s=c.init(document.getElementById("graphCharts2"));s.setOption(a.graphOption(n,o)),e(window).resize(function(){s.resize({width:"auto",height:"auto"})})}else alert("审计署无数据")}}).catch(function(e){console.log(e)}),h.a.req({apiName:"Neo4jToJson",data:{word:t,word1:"审计疑点"}}).then(function(t){if((t=t.data)&&"200"===t.code){var i=t.data;console.log(i);var n=i.nodes,o=i.links;if(n.length){a.showGrap3=!0,n=a.unique(n),console.log(n);var s=c.init(document.getElementById("graphCharts3"));s.setOption(a.graphOption(n,o)),e(window).resize(function(){s.resize({width:"auto",height:"auto"})})}else alert("疑点结论无数据")}}).catch(function(e){console.log(e)}),h.a.req({apiName:"Neo4jToJson",data:{word:t,word1:"疑点法规"}}).then(function(t){if((t=t.data)&&"200"===t.code){var i=t.data;console.log(i);var n=i.nodes,o=i.links;if(n.length){a.showGrap4=!0,n=a.unique(n),console.log(n);var s=c.init(document.getElementById("graphCharts4"));s.setOption(a.graphOption(n,o)),e(window).resize(function(){s.resize({width:"auto",height:"auto"})})}else alert("疑点法规无数据")}}).catch(function(e){console.log(e)})},graphOption:function(e,t){return console.log(e),console.log(t),{title:{text:""},tooltip:{formatter:function(e){return e.data.name}},legend:[{data:["审计疑点","审计结论"]}],series:[{type:"graph",layout:"force",focusNodeAdjacency:!0,symbolSize:48,roam:!0,edgeSymbol:["","arrow"],hoverAnimation:!0,force:n()({initLayout:"circular",repulsion:600,layoutAnimation:!1,gravity:.5,edgeLength:[16,30]},"layoutAnimation",!0),draggable:!0,itemStyle:{normal:{color:"#ff756e",borderColor:"#e06760",borderWidth:2}},lineStyle:{normal:{width:1,color:"#000"}},edgeLabel:{normal:{show:!0,textStyle:{fontSize:14,color:"#000"},formatter:function(e){var t=e.data.name;return t=t.length>5?t.substr(0,5)+"...":t.substr(0,5)}}},label:{show:!0,formatter:function(e){var t=e.data.name;return"{a|"+(t=t.length>3?t.substr(0,3)+"...":t.substr(0,3))+"}"},rich:{a:{color:"#fff"}}},nodes:e,links:t}]}},handleClick:function(e,t){}},watch:{selectArea:function(e){this.tree=!1,this.selectArea=e,this.NodeStr=",",this.currentPage=1,this.getListPages(),this.handleCurrentChange(1)}},mounted:function(){this.getListPages(),this.handleCurrentChange(1)}}}).call(t,a("0iPh"))},IC04:function(e,t){},x5uM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("/+m0"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page1_2_1"},[i("div",{staticClass:"page-top"},[i("Place",{staticClass:"fl",attrs:{data:e.msg}}),e._v(" "),i("div",{staticClass:"fr inter"},[i("interBtn",{attrs:{title1:"审计标准及依据",title:"法律法规",id:"more1_2_1",ydname:"审计准备"}})],1)],1),e._v(" "),i("el-dialog",{staticClass:"xqModel",attrs:{visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},["null"==e.faguiXq?i("div",{staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[i("i",{staticClass:"am-icon-spinner am-icon-spin"}),e._v(" loading\n\t\t\t")]):e._l(e.faguiXq,function(t){return i("div",{staticClass:"flxq"},[t.icon?i("div",[i("div",{staticClass:"title"},[e._v(e._s(t.icon))]),e._v(" "),i("div",{staticClass:"decs"},[i("span",{staticClass:"time"},[e._v(e._s(t.time))]),e._v("    "),i("span",{staticClass:"form"},[e._v(e._s(t.desc))])]),e._v(" "),i("p",{staticClass:"cont",domProps:{innerHTML:e._s(t.text)}})]):e._e()])})],2),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible2,width:"1200"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"南京审计大学",name:"first"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showGrap,expression:"!showGrap"}],staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[i("i",{staticClass:"am-icon-spinner am-icon-spin"}),e._v(" loading\n\t\t\t\t\t")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showGrap,expression:"showGrap"}],staticStyle:{margin:"0 auto",width:"1200px",height:"700px","text-align":"center"},attrs:{id:"graphCharts"}})]),e._v(" "),i("el-tab-pane",{attrs:{label:"审计署",name:"second"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showGrap2,expression:"!showGrap2"}],staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[i("i",{staticClass:"am-icon-spinner am-icon-spin"}),e._v(" loading\n\t\t\t\t\t")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showGrap2,expression:"showGrap2"}],staticStyle:{margin:"0 auto",width:"1200px",height:"700px","text-align":"center"},attrs:{id:"graphCharts2"}})]),e._v(" "),i("el-tab-pane",{attrs:{label:"疑点--结论",name:"three"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showGrap3,expression:"!showGrap3"}],staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[i("i",{staticClass:"am-icon-spinner am-icon-spin"}),e._v(" loading\n\t\t\t\t\t")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showGrap3,expression:"showGrap3"}],staticStyle:{margin:"0 auto",width:"1200px",height:"700px","text-align":"center"},attrs:{id:"graphCharts3"}})]),e._v(" "),i("el-tab-pane",{attrs:{label:"疑点--法规",name:"four"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showGrap4,expression:"!showGrap4"}],staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[i("i",{staticClass:"am-icon-spinner am-icon-spin"}),e._v(" loading\n\t\t\t\t\t")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showGrap4,expression:"showGrap4"}],staticStyle:{margin:"0 auto",width:"1200px",height:"700px","text-align":"center"},attrs:{id:"graphCharts4"}})])],1)],1),e._v(" "),i("div",{staticClass:"cont box-border-shadow"},[i("div",{staticClass:"list-btn fl",on:{click:function(t){e.getData("空")}}},[e._v("\n\t            知"),i("br"),e._v("识"),i("br"),e._v("图"),i("br"),e._v("谱\n\t        ")]),e._v(" "),i("div",{staticClass:"find"},[i("div",{staticStyle:{"margin-top":"15px",width:"40%",margin:"0 auto"}},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.findWord,callback:function(t){e.findWord=t},expression:"findWord"}},[i("el-select",{attrs:{slot:"prepend"},slot:"prepend",model:{value:e.selectArea,callback:function(t){e.selectArea=t},expression:"selectArea"}},[i("el-option",{attrs:{label:"财务法规",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"资环法规",value:"2"}})],1),e._v(" "),i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.search(e.findWord)}},slot:"append"})],1)],1)]),e._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:e.tree?12:24}},[e.faguiList.length>0?i("ul",e._l(e.faguiList,function(t){return i("li",{staticClass:"item"},[i("p",{staticClass:"item-head"},[i("span",{staticClass:"icon-fl",domProps:{textContent:e._s("财务法规"==e.selectArea||"1"==e.selectArea?"财务法规":"资环法规")}}),e._v(" "),i("span",{staticClass:"title",on:{click:function(a){e.getFaguiXq(t.icon)}}},[e._v("《 "+e._s(t.icon)+" 》")])]),e._v(" "),i("p",{staticClass:"item-b"},[i("span",{domProps:{textContent:e._s("财务法规"==e.selectArea||"1"==e.selectArea?"":"来源：")}}),e._v(e._s(t.desc)+"   |   "+e._s(t.time))])])})):i("div",{staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[i("i",{staticClass:"am-icon-spinner am-icon-spin"}),e._v(" loading\n\t\t\t\t\t")]),e._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,background:"",layout:"prev, pager, next, jumper",total:10*e.pages},on:{"current-change":function(t){e.handleCurrentChange()},"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:e.tree,expression:"tree"}],attrs:{span:12}},[i("div",{staticClass:"tree-box box-border-shadow",staticStyle:{"min-height":"600px"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.imgShow,expression:"imgShow"}],staticClass:"noSjImg",attrs:{src:a("1DWv")}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.imgShow,expression:"!imgShow"}],ref:"searchTree",class:{min:e.showMin},staticStyle:{width:"100%",height:"600px",margin:"0 auto"},attrs:{id:"searchTree"}})])])],1)],1)],1)},staticRenderFns:[]};var o=function(e){a("IC04")},s=a("VU/8")(i.a,n,!1,o,"data-v-1a459270",null);t.default=s.exports}});
//# sourceMappingURL=17.d1d6979031b1075c65ef.js.map