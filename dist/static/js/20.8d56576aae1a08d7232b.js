webpackJsonp([20],{Kide:function(t,e,a){"use strict";(function(t){var o=a("bOdI"),n=a.n(o),i=a("/hEK"),s=a("0k2b"),r=a("XLwt"),l=(a.n(r),a("Nf9k"));e.a={name:"page1_4",components:{interBtn:i.a,Place:s.a},data:function(){return{isData:!0,msg:["审计准备","企业画像"],links:[]}},computed:{company:function(){return JSON.parse(sessionStorage.getItem("company"))}},methods:{open:function(t){this.$notify({title:"确定企业类型",message:t,type:"success",duration:0})},unique:function(t,e){t[0].name===this.company.value&&(t[0].tag="主体");for(var a=[t[0].name],o=[t[0]],n=1;n<t.length;n++)-1==a.indexOf(t[n].name)&&(t[n].name===this.company.value&&(t[n].tag="主体"),a.push(t[n].name),o.push(t[n]));for(n=0;n<o.length;n++)o[n].tag&&"值"===o[n].tag&&(o[n].itemStyle={normal:{color:"#68bdf6",borderColor:"#5ca8db",borderWidth:2}},o[n].symbol="diamond");return console.log(o),o},getData:function(){var e=this,a=r.init(document.getElementById("graphCharts"));a.showLoading(),l.a.req({apiName:"Neo4jToJson",data:{word:this.company.value,word1:"单位名称"}}).then(function(o){if((o=o.data)&&"200"===o.code){var n=o.data;console.log(n);var i=n.nodes,s=n.links;e.links=s,i.length<=0||s.length<=0?l.a.req({apiName:"qiyehuaxiang",data:{ID:e.company.value}}).then(function(o){if((o=o.data)&&"200"===o.code){var n=o.data;console.log(n),l.a.req({apiName:"Neo4jToJson",data:{word:e.company.value,word1:"单位名称"}}).then(function(o){if((o=o.data)&&"200"===o.code){var n=o.data;console.log(n);var i=n.nodes,s=n.links;e.links=s,console.log(i),i=e.unique(i),s.forEach(function(a){"公司类型"==t.trim(a.name)?(console.log(a.target),e.open(a.target),sessionStorage.setItem("qiye_type",a.target)):"学校类型"==t.trim(a.name)&&(e.open(a.target),sessionStorage.setItem("qiye_type",a.target))}),a.hideLoading(),a.setOption(e.graphOption(i,s)),t(window).resize(function(){a.resize({width:"auto",height:"auto"})})}}).catch(function(t){console.log(t)})}}).catch(function(t){console.log(t),e.isData=!1}):(s.forEach(function(a){"公司类型"==t.trim(a.name)?(e.open(a.target),sessionStorage.setItem("qiye_type",a.target)):"学校类型"==t.trim(a.name)&&(e.open(a.target),sessionStorage.setItem("qiye_type",a.target))}),console.log(i),i=e.unique(i),a.hideLoading(),a.setOption(e.graphOption(i,s)),t(window).resize(function(){a.resize({width:"auto",height:"auto"})}))}}).catch(function(t){console.log(t)})},graphOption:function(t,e){return{title:{text:this.company.value+"企业画像"},tooltip:{formatter:function(t){return t.data.name}},series:[{type:"graph",layout:"force",focusNodeAdjacency:!0,symbolSize:68,roam:!0,edgeSymbol:["","arrow"],hoverAnimation:!0,force:n()({initLayout:"circular",repulsion:3620,layoutAnimation:!1,gravity:.5,edgeLength:[86,180]},"layoutAnimation",!0),draggable:!0,itemStyle:{normal:{color:"#ff756e",borderColor:"#e06760",borderWidth:2}},lineStyle:{normal:{width:1,color:"#000"}},edgeLabel:{normal:{show:!0,textStyle:{fontSize:14,color:"#000"},formatter:function(t){var e=t.data.name;return e=e.length>5?e.substr(0,5)+"...":e.substr(0,5)}}},label:{show:!0,formatter:function(t){var e=t.data.name;return"{a|"+(e=e.length>3?e.substr(0,3)+"...":e.substr(0,3))+"}"},rich:{a:{color:"#fff"}}},nodes:t,links:e}]}}},mounted:function(){this.getData()}}}).call(e,a("0iPh"))},VmVl:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("Kide"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page1_5"},[a("div",{staticClass:"nav"},[a("ul",{staticClass:"fl"},[a("li",[a("router-link",{staticClass:"item",attrs:{"active-class":"active",to:{path:"/inside/page1_5"}}},[t._v("\n\t\t\t\t\t企业画像\n\t\t\t\t")])],1)])]),t._v(" "),a("div",{staticClass:"content_page"},[a("div",{staticClass:"page-top",staticStyle:{clear:"both",height:"50px"}},[a("Place",{staticClass:"fl",attrs:{data:t.msg}}),t._v(" "),a("div",{staticClass:"fr inter"},[a("interBtn",{attrs:{title1:"审计案例及经验",title:"审计经验",id:"more1_4",ydname:"审计准备"}})],1)],1),t._v(" "),a("div",{staticClass:"cont box-border-shadow"},[t.isData?a("div",{staticStyle:{position:"relative"}},[a("div",{staticStyle:{width:"100%",height:"800px"},attrs:{id:"graphCharts"}}),t._v(" "),a("div",{staticClass:"msg",staticStyle:{position:"absolute","text-align":"left",left:"0",top:"40px",width:"340px","line-height":"34px"}},t._l(t.links,function(e){return a("el-row",{attrs:{gutter:10}},[a("el-col",{staticStyle:{color:"#b80000","text-align":"right"},attrs:{md:6}},[t._v(t._s(e.name)+":")]),t._v(" "),a("el-col",{attrs:{md:18}},[t._v(t._s(e.target))])],1)}))]):a("div",[t._v("暂无数据")])])])])},staticRenderFns:[]};var i=function(t){a("wYOV")},s=a("VU/8")(o.a,n,!1,i,"data-v-35df9a8d",null);e.default=s.exports},wYOV:function(t,e){}});
//# sourceMappingURL=20.8d56576aae1a08d7232b.js.map