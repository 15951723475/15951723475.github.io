webpackJsonp([21],{"8dLV":function(t,a){},OIG4:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("wqdS"),n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page1_4"},[e("div",{staticClass:"nav"},[e("ul",{staticClass:"fl"},[e("li",[e("router-link",{staticClass:"item",attrs:{"active-class":"active",to:{path:"/inside/page1_4"}}},[t._v("\n\t\t\t\t\t审计类案推荐\n\t\t\t\t")])],1)])]),t._v(" "),e("div",{staticClass:"content_page"},[e("div",{staticClass:"page-top",staticStyle:{clear:"both",height:"50px"}},[e("Place",{staticClass:"fl",attrs:{data:t.msg}}),t._v(" "),e("div",{staticClass:"fr inter"},[e("interBtn",{attrs:{title1:"审计案例及经验",title:"审计经验",id:"more1_4",ydname:"审计准备"}})],1)],1),t._v(" "),e("el-dialog",{staticClass:"xqModel",attrs:{visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("div",{staticClass:"flxq"},[e("p",{staticClass:"cont",domProps:{innerHTML:t._s(t.cont)}})])]),t._v(" "),e("div",{staticClass:"cont box-border-shadow"},[e("div",{staticClass:"find"},[e("div",{staticStyle:{"margin-top":"15px",width:"40%",margin:"0 auto"}},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:t.findWord,callback:function(a){t.findWord=a},expression:"findWord"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(a){t.getData(t.findWord)}},slot:"append"})],1),t._v(" "),e("div",{staticClass:"word_main"},[e("ul",[e("li",[t._v("推荐:")]),t._v(" "),t._l(t.keys,function(a){return e("li",{staticClass:"item",on:{click:function(e){t.getData(a)}}},[t._v(t._s(a))])})],2)])],1)]),t._v(" "),e("div",{staticClass:"box-border-shadow"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:18}},[e("div",{staticClass:"grid-content bg-purple"},[e("div",{staticStyle:{width:"100%",height:"800px"},attrs:{id:"graphCharts"}})])]),t._v(" "),e("el-col",{staticStyle:{"border-left":"1px solid #ccc"},attrs:{span:6}},[e("div",{staticClass:"grid-content bg-purple"},[e("div",{staticStyle:{height:"800px","overflow-y":"auto"}},[e("div",{staticStyle:{"text-align":"left","font-size":"16px",margin:"30px 0",color:"#b80000"}},[t._v("相关推荐：")]),t._v(" "),e("div",{staticStyle:{"text-align":"left"}},[t._v("主体:")]),t._v(" "),e("ul",{staticClass:"keys key1"},t._l(t.keys_zhuti,function(a){return e("li",{on:{click:function(e){t.getData(a)}}},[t._v(t._s(a))])})),t._v(" "),e("div",{staticStyle:{"text-align":"left"}},[t._v("值:")]),t._v(" "),e("ul",{staticClass:"keys key2"},t._l(t.keys_zhi,function(a){return e("li",{on:{click:function(e){t.getData(a)}}},[t._v(t._s(a))])}))])])])],1)],1),t._v(" "),e("ul",{staticClass:"leianList"},t._l(t.dataList,function(a){return e("li",{staticClass:"item"},[e("p",{staticClass:"item-head"},[e("span",{staticClass:"icon-fl"},[t._v("类案推荐")]),t._v(" "),e("span",{staticClass:"title",on:{click:function(e){t.xqModel(a)}}},[t._v(t._s(a.titl))])]),t._v(" "),e("p",{staticClass:"item-b"},[e("span",{staticClass:"btn1 btn"},[t._v("来源："+t._s(a.laiyuan))]),t._v("   |   "),e("span",{staticClass:"btn2 btn"},[t._v("所属领域："+t._s(a.leibie))]),t._v("   |   "),e("span",{staticClass:"btn3 btn"},[t._v("时间："+t._s(a.times))])])])}))])],1)])},staticRenderFns:[]};var s=function(t){e("8dLV")},o=e("VU/8")(i.a,n,!1,s,"data-v-18c45296",null);a.default=o.exports},wqdS:function(t,a,e){"use strict";(function(t){var i=e("bOdI"),n=e.n(i),s=e("/hEK"),o=e("0k2b"),l=e("XLwt"),c=(e.n(l),e("Nf9k"));a.a={name:"page1_4",components:{interBtn:s.a,Place:o.a},data:function(){return{msg:["审计准备","审计类案推荐"],dialogVisible:!1,cont:"",dataList:[],findWord:"",keys:["南京审计大学","教育部","商学院","信息工程学院","审计署","公共管理学院"],keys_zhuti:["南京审计大学","教育部","商学院","信息工程学院","审计署","公共管理学院"],keys_zhi:["一百万元及以上的","单笔金额5万元及以上100万元以下的"]}},computed:{companyID:function(){return JSON.parse(sessionStorage.getItem("company")).id}},methods:{xqModel:function(t){this.dialogVisible=!0;var a=t.text,e=t.titl,i=t.laiyuan,n=t.leibie,s=t.times,o=new RegExp(" ","g"),l="<p style='text-align:center;color:#b80000;font-size:22px;margin-bottom:6px;'>"+e+"</p>",c="<p style='text-align:center;color:#999;font-size:13px;'><span>来源："+i+"</span> &nbsp;&nbsp;|&nbsp;&nbsp; <span>所属领域："+n+"</span> &nbsp;&nbsp;|&nbsp;&nbsp; <span>时间："+s+"</span></p>",r="<p>"+(a=a.replace(o,"</p><p>"))+"</p>";this.cont=l+c+r},getDataList:function(){var t=this;c.a.req({apiName:"anlituijian",data:{ID:this.companyID}}).then(function(a){if((a=a.data)&&"200"===a.code){var e=a.data;console.log(e),t.dataList=e}}).catch(function(t){console.log(t)})},unique:function(t,a){for(var e=[t[0].name],i=[t[0]],n=1;n<t.length;n++)-1==e.indexOf(t[n].name)&&(e.push(t[n].name),i.push(t[n]));for(n=0;n<i.length;n++)i[n].tag&&"值"===i[n].tag&&(i[n].itemStyle={normal:{color:"#68bdf6",borderColor:"#5ca8db",borderWidth:2}},i[n].symbol="diamond");return console.log(i),i},getData:function(a){var e=this,i=this;i.keys_zhuti=[],i.keys_zhi=[],console.log(a),a=a||"空";var n=l.init(document.getElementById("graphCharts"));n.showLoading(),c.a.req({apiName:"Neo4jToJson",data:{word:"南京审计大学",word1:"主体"}}).then(function(a){if((a=a.data)&&"200"===a.code){var s=a.data;console.log(s);var o=s.nodes,l=s.links;console.log(o),o=e.unique(o);for(var r=0;r<o.length;r++)"主体"==o[r].tag?i.keys_zhuti.push(o[r].name):i.keys_zhi.push(o[r].name);n.hideLoading(),n.setOption(e.graphOption(o,l)),n.on("click",function(t){console.log(t),"node"==t.dataType&&c.a.req({apiName:"Neo4jToJson",data:{word:t.data.name,word1:"主体"}}).then(function(t){if((t=t.data)&&"200"===t.code){var a=t.data;console.log(a);var e=a.nodes,s=a.links;e=o.concat(e),s=l.concat(s),console.log(e),e=i.unique(e),n.setOption({series:[{nodes:e,links:s}]})}}).catch(function(t){console.log(t)})}),t(window).resize(function(){n.resize({width:"auto",height:"auto"})})}}).catch(function(t){console.log(t)})},graphOption:function(t,a){return{title:{text:""},tooltip:{formatter:function(t){return t.data.name}},series:[{type:"graph",layout:"force",focusNodeAdjacency:!0,symbolSize:48,roam:!0,edgeSymbol:["","arrow"],hoverAnimation:!0,force:n()({initLayout:"circular",repulsion:600,layoutAnimation:!1,gravity:.5,edgeLength:[16,30]},"layoutAnimation",!0),draggable:!0,itemStyle:{normal:{color:"#ff756e",borderColor:"#e06760",borderWidth:2}},lineStyle:{normal:{width:1,color:"#000"}},edgeLabel:{normal:{show:!0,textStyle:{fontSize:14,color:"#000"},formatter:function(t){var a=t.data.name;return a=a.length>5?a.substr(0,5)+"...":a.substr(0,5)}}},label:{show:!0,formatter:function(t){var a=t.data.name;return"{a|"+(a=a.length>3?a.substr(0,3)+"...":a.substr(0,3))+"}"},rich:{a:{color:"#fff"}}},nodes:t,links:a}]}}},mounted:function(){this.getData("空"),this.getDataList}}}).call(a,e("0iPh"))}});
//# sourceMappingURL=21.2ce22d827494d289c6a6.js.map