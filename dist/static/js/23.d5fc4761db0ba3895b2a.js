webpackJsonp([23],{"A4T+":function(t,i){},fBBP:function(t,i,e){"use strict";(function(t){var a=e("bOdI"),o=e.n(a),n=e("XLwt"),s=(e.n(n),e("Nf9k")),r=(e("3D0O"),e("dIXH"));e.n(r);i.a={name:"zstp_fg_page1",data:function(){return{faguiList:[],faguiXq:[],faguiJuZi:[],steps:1,fgBiaoti:"",fgDuanluo:"",fgJuZi:"",dialogFormVisible:!1,form1:{word1:"",word2:"",relation:""},form2:{word1:"",word2:"",relation:""},form3:{word1:"",word2:"",relation:""},formLabelWidth:"120px",radio:"1",lishipingjia:{},yd1:!0,radio1:[],ydText1:"",getQuestionData:[],dialogVisible:!1,showGrap:!1}},components:{},computed:{company:function(){return JSON.parse(sessionStorage.getItem("company"))},userName:function(){if(sessionStorage.getItem("username"))return sessionStorage.getItem("username")}},filters:{getText:function(t){if(t)return t.trim()}},methods:{unique:function(t){for(var i=[t[0].name],e=[t[0]],a=1;a<t.length;a++)-1==i.indexOf(t[a].name)&&(i.push(t[a].name),e.push(t[a]));for(a=0;a<e.length;a++)e[a].des&&"1"===e[a].des?(e[a].category="业务概念实体",e[a].itemStyle={normal:{color:"#ff756e",borderColor:"#e06760",borderWidth:2}}):e[a].des&&"2"===e[a].des?(e[a].category="财务审计概念实体",e[a].itemStyle={normal:{color:"#68bdf6",borderColor:"#5ca8db",borderWidth:2}}):e[a].des&&"3"===e[a].des?(e[a].category="组织实体",e[a].itemStyle={normal:{color:"#ffd86e",borderColor:"#edba39",borderWidth:2}}):e[a].des&&"4"===e[a].des?(e[a].category="审计对象实体",e[a].itemStyle={normal:{color:"#6dce9e",borderColor:"#60b58b",borderWidth:2}}):e[a].des&&"5"===e[a].des&&(e[a].category="其他",e[a].itemStyle={normal:{color:"#fb95af",borderColor:"#e3869d",borderWidth:2}});return console.log(e),e},graphOption:function(t,i){return console.log(t),console.log(i),{title:{text:""},tooltip:{formatter:function(t){return t.data.name}},legend:{x:"center",data:["业务概念实体","财务审计概念实体","组织实体","审计对象实体","其他"]},series:[{type:"graph",layout:"force",focusNodeAdjacency:!0,symbolSize:60,roam:!0,categories:[{name:"业务概念实体",itemStyle:{color:"#ff756e",borderColor:"#e06760",borderWidth:2}},{name:"财务审计概念实体",itemStyle:{color:"#68bdf6",borderColor:"#5ca8db",borderWidth:2}},{name:"组织实体",itemStyle:{color:"#ffd86e",borderColor:"#edba39",borderWidth:2}},{name:"审计对象实体",itemStyle:{color:"#6dce9e",borderColor:"#60b58b",borderWidth:2}},{name:"其他",itemStyle:{color:"#fb95af",borderColor:"#e3869d",borderWidth:2}}],edgeSymbol:["none","arrow"],hoverAnimation:!0,force:o()({initLayout:"circular",repulsion:1500,layoutAnimation:!1,gravity:.5,edgeLength:[16,30]},"layoutAnimation",!0),draggable:!0,lineStyle:{normal:{width:1,color:"#000",curveness:.2}},edgeLabel:{normal:{show:!0,textStyle:{fontSize:18,color:"#000"},formatter:function(t){var i=t.data.name;return i=i.length>5?i.substr(0,5)+"...":i.substr(0,5)}}},label:{show:!0,textStyle:{fontSize:18},formatter:function(t){var i=t.data.name;return"{a|"+(i=i.length>3?i.substr(0,3)+"...":i.substr(0,3))+"}"},rich:{a:{color:"#fff",fontSize:18}}},nodes:t,links:i}]}},showGraph:function(){var i=this;i.showGrap=!1,i.dialogVisible=!0,s.a.req({apiName:"shitiguanxichouqu_shitiguanxi_zhishitupu"}).then(function(e){if((e=e.data)&&"200"===e.code){var a=e.data;console.log(a);var o=a.node,s=a.links;if(o.length){i.showGrap=!0,o=i.unique(o),console.log(o);var r=n.init(document.getElementById("graphCharts"));r.setOption(i.graphOption(o,s)),t(window).resize(function(){r.resize({width:"auto",height:"auto"})})}else i.showGrap="暂无数据"}}).catch(function(t){console.log(t)})},getQuestion1:function(){var t=this;s.a.req({apiName:"showQues",data:{qiye_id:"shitichouqu",yidian_name:this.fgJuZi.juzi_md5_id,feilei_id:"shitichouqu"}}).then(function(i){if((i=i.data)&&"200"===i.code){var e=i.data;console.log(e),t.getQuestionData=e}}).catch(function(t){console.log(t)})},appraise1:function(t){var i=this;if(this.radio1[t]){var e=this.radio1[t].split("-")[0],a=this.radio1[t].split("-")[1];console.log(e+"====="+a),s.a.req({apiName:"appraiseQues",data:{yidian_id:a,num:e,username:this.userName}}).then(function(t){if((t=t.data)&&"200"===t.code){t.data;alert("评价成功"),i.radio1=[]}}).catch(function(t){console.log(t)})}else alert("请选择合理或不合理")},addQues1:function(){var t=this;s.a.req({apiName:"addQues",data:{qiye_id:"shitichouqu",yidian_name:this.fgJuZi.juzi_md5_id,feilei_id:"shitichouqu",username:this.userName,yidian:this.ydText1}}).then(function(i){if((i=i.data)&&"200"===i.code){i.data;alert("添加成功"),t.ydText1="",t.yd1=!0,t.getQuestion1()}}).catch(function(t){console.log(t)})},getFaguiList:function(){var t=this;this.steps=1,this.faguiList="loading",s.a.req({apiName:"shitiguanxichouqu_faguibiaoti"}).then(function(i){if((i=i.data)&&"200"===i.code){var e=i.data;console.log(e),t.faguiList=e}}).catch(function(t){console.log(t)})},selectFaguiItem:function(t){var i=this;this.fgBiaoti=t,s.a.req({apiName:"shitiguanxichouqu_faguiduanluo",data:{biaoti:t}}).then(function(t){if((t=t.data)&&"200"===t.code){var e=t.data;console.log(e),i.faguiXq=e,i.steps=2}}).catch(function(t){console.log(t)})},getFauiJuZi:function(t){var i=this;this.fgDuanluo=t.text,s.a.req({apiName:"shitiguanxichouqu_faguijuzi",data:{md5_id:t.md5_id}}).then(function(t){if((t=t.data)&&"200"===t.code){var e=t.data;console.log(e),i.faguiJuZi=e,i.steps=3}}).catch(function(t){console.log(t)})},getDialog:function(t,i){if(this.userName){var e=t.text,a=1==i?t.md5_id:t.juzi_md5_id,o=this.fgBiaoti,n=this.$router.resolve({name:"zstp_fg_page2",query:{text:e,id:a,index:i,fgBiaoti:o}});console.log(n),window.open(n.href,"_blank")}else alert("请先登录")},showPingLun:function(t){var i=this;s.a.req({apiName:"shitiguanxichouqu_shitiguanxi_chaxun",data:{juzi_md5_id:t}}).then(function(t){if((t=t.data)&&"200"===t.code){var e=t.data;console.log(e),i.lishipingjia=e}}).catch(function(t){console.log(t)})},addPingLun:function(t,i){var e=this,a=t.word1,o=t.word2,n=t.relation,r=this.fgJuZi.juzi_md5_id;a?o?n?s.a.req({apiName:"shitiguanxichouqu_shitiguanxi",data:{juzi_md5_id:r,shiti1:a,shiti2:o,guanxi:n,biaoshi:i}}).then(function(t){if((t=t.data)&&"200"===t.code){t.data;alert("添加成功"),e.showPingLun(r)}}).catch(function(t){console.log(t)}):alert("请输入关系"):alert("请输入主体2"):alert("请输入主体1")}},mounted:function(){this.getFaguiList()}}}).call(i,e("0iPh"))},zVCt:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("fBBP"),o={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"zstp_fg_page1"},[a("el-dialog",{attrs:{visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.showGrap,expression:"!showGrap"}],staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[a("i",{staticClass:"am-icon-spinner am-icon-spin"}),t._v(" loading\n\t\t\t")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"暂无数据"==t.showGrap,expression:"showGrap=='暂无数据'"}]},[a("img",{staticStyle:{display:"block",margin:"20px auto"},attrs:{src:e("1DWv")}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showGrap&&"暂无数据"!=t.showGrap,expression:"showGrap&&showGrap!='暂无数据'"}],staticStyle:{margin:"0 auto",width:"1200px",height:"700px","text-align":"center"},attrs:{id:"graphCharts"}})]),t._v(" "),a("div",{staticClass:"cont box-border-shadow"},[a("div",{staticClass:"list-btn fl",on:{click:function(i){t.showGraph()}}},[t._v("\n\t            知"),a("br"),t._v("识"),a("br"),t._v("图"),a("br"),t._v("谱\n\t        ")]),t._v(" "),a("div",{staticStyle:{"overflow-y":"auto"}},[t.faguiList.length?"loading"==t.faguiList?a("div",{staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[a("i",{staticClass:"am-icon-spinner am-icon-spin"}),t._v(" loading\n\t\t\t\t")]):a("div",[a("ul",{directives:[{name:"show",rawName:"v-show",value:1==t.steps,expression:"steps==1"}],staticClass:"faguiList"},t._l(t.faguiList,function(i){return a("li",{staticClass:"item"},[a("p",{staticClass:"item-head"},[a("span",{staticClass:"icon-fl"},[t._v("法律法规")]),t._v(" "),a("span",{staticClass:"title",on:{click:function(e){t.selectFaguiItem(i)}}},[t._v("\n\t\t                    \t\t"+t._s(t._f("getText")(i))+"\n\t\t\t                    ")])])])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.steps,expression:"steps==2"}],staticClass:"faguiXq"},[a("h1",{staticStyle:{color:"#b80000","font-size":"34px","text-align":"center","font-weight":"bold","line-height":"44px"}},[t._v(t._s(t.fgBiaoti))]),t._v(" "),a("span",{staticStyle:{"font-size":"18px",color:"#b80000","line-height":"40px",cursor:"pointer"},on:{click:function(i){t.steps=1}}},[a("i",{staticClass:"el-icon-d-arrow-left"}),t._v(" 返回上一步")]),t._v(" "),t._l(t.faguiXq,function(i,e){return a("p",{staticClass:"duanluo",attrs:{id:i.md5_id},on:{click:function(e){t.getFauiJuZi(i)}}},[a("span",{staticClass:"title",on:{click:function(e){t.getFauiJuZi(i)}}},[t._v("\n\t                    \t\t段落"+t._s(e+1)+"："+t._s(t._f("getText")(i.text))+"\n\t\t                    ")]),t._v(" "),a("span",{staticClass:"icon-fl",on:{click:function(e){t.getDialog(i,1)}}},[a("el-button",{attrs:{plain:""}},[t._v("段落实体抽取")])],1)])})],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.steps,expression:"steps==3"}],staticClass:"faguiDuanLuo"},[a("h1",{staticStyle:{color:"#b80000","font-size":"34px","text-align":"center","font-weight":"bold","line-height":"44px"}},[t._v(t._s(t.fgBiaoti))]),t._v(" "),a("span",{staticStyle:{"font-size":"18px",color:"#b80000","line-height":"40px",cursor:"pointer"},on:{click:function(i){t.steps=2}}},[a("i",{staticClass:"el-icon-d-arrow-left"}),t._v(" 返回上一步")]),t._v(" "),a("p",{staticStyle:{color:"#b80000","text-indent":"40px","font-size":"18px","line-height":"30px"}},[t._v("段落："+t._s(t._f("getText")(t.fgDuanluo)))]),t._v(" "),t._l(t.faguiJuZi,function(i,e){return a("p",{staticClass:"duanluo",on:{click:function(e){t.getDialog(i,2)}}},[t._v("\n\t            \t\t\t语句"+t._s(e+1)+"："+t._s(t._f("getText")(i.text))+"\n\t            \t\t")])})],2)]):a("div",[a("img",{staticStyle:{display:"block",margin:"50px auto"},attrs:{src:e("1DWv")}})])])])],1)},staticRenderFns:[]};var n=function(t){e("A4T+")},s=e("VU/8")(a.a,o,!1,n,"data-v-126b4ded",null);i.default=s.exports}});
//# sourceMappingURL=23.d5fc4761db0ba3895b2a.js.map