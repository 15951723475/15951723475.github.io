webpackJsonp([24],{"0cRk":function(t,e,a){"use strict";(function(t){var n=a("bOdI"),i=a.n(n),o=a("Nf9k"),r=a("XLwt");a.n(r);e.a={name:"sb_page3",data:function(){return{cont:"",dataList:[],findWord:"",keys:["广东增值税电子普通发票","湖北增值税电子普通发票"],keys_zhuti:[],keys_zhi:[]}},components:{},methods:{unique:function(t,e){for(var a=[t[0].name],n=[t[0]],i=1;i<t.length;i++)-1==a.indexOf(t[i].name)&&(a.push(t[i].name),n.push(t[i]));for(i=0;i<n.length;i++)n[i].tag&&"发票信息"===n[i].tag&&(n[i].itemStyle={normal:{color:"#68bdf6",borderColor:"#5ca8db",borderWidth:2}},n[i].symbol="diamond");return console.log(n),n},getData:function(e){var a=this,n=this;n.keys_zhuti=[],n.keys_zhi=[],console.log(e),e=e||"空";var i=r.init(document.getElementById("graphCharts"));i.showLoading(),o.a.req({apiName:"Neo4jToIvnView",data:{word:e}}).then(function(e){if((e=e.data)&&"200"===e.code){var o=e.data;console.log(o);var r=o.nodes,s=o.links;console.log(r),r=a.unique(r);for(var l=0;l<r.length;l++)"发票信息"==r[l].tag?n.keys_zhi.push(r[l].name):n.keys_zhuti.push(r[l].name);i.hideLoading(),i.setOption(a.graphOption(r,s)),t(window).resize(function(){i.resize({width:"auto",height:"auto"})})}}).catch(function(t){console.log(t)})},graphOption:function(t,e){return{title:{text:""},tooltip:{formatter:function(t){return t.data.name}},series:[{type:"graph",layout:"force",focusNodeAdjacency:!0,symbolSize:48,roam:!0,edgeSymbol:["","arrow"],hoverAnimation:!0,force:i()({initLayout:"circular",repulsion:600,layoutAnimation:!1,gravity:.5,edgeLength:[16,30]},"layoutAnimation",!0),draggable:!0,itemStyle:{normal:{color:"#ff756e",borderColor:"#e06760",borderWidth:2}},lineStyle:{normal:{width:1,color:"#000"}},edgeLabel:{normal:{show:!0,textStyle:{fontSize:14,color:"#000"},formatter:function(t){var e=t.data.name;return e=e.length>5?e.substr(0,5)+"...":e.substr(0,5)}}},label:{show:!0,formatter:function(t){var e=t.data.name;return"{a|"+(e=e.length>3?e.substr(0,3)+"...":e.substr(0,3))+"}"},rich:{a:{color:"#fff"}}},nodes:t,links:e}]}}},mounted:function(){this.getData("空")}}}).call(e,a("0iPh"))},R96E:function(t,e){},ecQB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("0cRk"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sb_page3"},[a("div",{staticClass:"cont"},[a("div",{staticClass:"find"},[a("div",{staticStyle:{"margin-top":"15px",width:"40%",margin:"0 auto"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:t.findWord,callback:function(e){t.findWord=e},expression:"findWord"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){t.getData(t.findWord)}},slot:"append"})],1),t._v(" "),a("div",{staticClass:"word_main"},[a("ul",[a("li",[t._v("推荐:")]),t._v(" "),t._l(t.keys,function(e){return a("li",{staticClass:"item",on:{click:function(a){t.getData(e)}}},[t._v(t._s(e))])})],2)])],1)]),t._v(" "),a("div",{staticClass:"box-border-shadow"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticStyle:{width:"100%",height:"800px"},attrs:{id:"graphCharts"}})])]),t._v(" "),a("el-col",{staticStyle:{"border-left":"1px solid #ccc"},attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticStyle:{height:"800px","overflow-y":"auto"}},[a("div",{staticStyle:{"text-align":"left","font-size":"16px",margin:"30px 0",color:"#b80000"}},[t._v("相关推荐：")]),t._v(" "),a("div",{staticStyle:{"text-align":"left"}},[t._v("主体:")]),t._v(" "),a("ul",{staticClass:"keys key1"},t._l(t.keys_zhuti,function(e){return a("li",{on:{click:function(a){t.getData(e)}}},[t._v(t._s(e))])})),t._v(" "),a("div",{staticStyle:{"text-align":"left"}},[t._v("值:")]),t._v(" "),a("ul",{staticClass:"keys key2"},t._l(t.keys_zhi,function(e){return a("li",{on:{click:function(a){t.getData(e)}}},[t._v(t._s(e))])}))])])])],1)],1)])])},staticRenderFns:[]};var o=function(t){a("R96E")},r=a("VU/8")(n.a,i,!1,o,"data-v-431f4d12",null);e.default=r.exports}});
//# sourceMappingURL=24.20969f0077300c18b881.js.map