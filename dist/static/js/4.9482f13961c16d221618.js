webpackJsonp([4],{"1alW":function(e,t,a){var i=a("kM2E");i(i.S,"Number",{isInteger:a("AKgy")})},"5Uak":function(e,t){},AKgy:function(e,t,a){var i=a("EqjI"),o=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&o(e)===e}},"RRo+":function(e,t,a){e.exports={default:a("c45H"),__esModule:!0}},c45H:function(e,t,a){a("1alW"),e.exports=a("FeBl").Number.isInteger},xP90:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),o=a.n(i),l=a("RRo+"),n=a.n(l),s=a("0k2b"),r=a("Nf9k"),c={name:"page4_1",components:{interBtn:a("/hEK").a,Place:s.a},data:function(){return{msg:["审计报告自动生成","报告准备"],checkAll:!1,checkedMr:[],checkedCities:[],cities:[],checkMr:!0,isIndeterminate:!0,ysType:"社会审计",form1:{title:"",author:"",name:"",num:"",type:""},rules:{title:[{required:!0,message:"请输入报告名称",trigger:"blur"}],author:[{required:!0,message:"请输入报告作者",trigger:"blur"}],name:[{required:!0,message:"请输入收件人",trigger:"blur"}],type:[{required:!0,message:"请选择要生成的审计报告疑点",trigger:"change"}],num:[{required:!0,validator:function(e,t,a){if(!t)return a(new Error("请输入报告索引号"));setTimeout(function(){n()(t)?a():a(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},tableData:[],multipleSelection:[],active:1,tableData1:[],multipleSelection1:[]}},watch:{checkedCities:function(e){}},computed:{getFormData:function(){return console.log(JSON.parse(sessionStorage.getItem("baogaoForm"))),JSON.parse(sessionStorage.getItem("baogaoForm"))},getWords:function(){return JSON.parse(sessionStorage.getItem("WordCloud"))},getWord:function(){return this.$store.getters.getWord||sessionStorage.getItem("word")}},methods:{handleSelectionChange:function(e){this.multipleSelection=e},handleSelectionChange1:function(e){this.multipleSelection1=e},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var a={title:t.form1.title,name:t.form1.name,author:t.form1.author,num:t.form1.num,type:t.getWord};console.log(a),sessionStorage.setItem("baogaoForm",o()(a)),sessionStorage.setItem("baogaoyaosu",o()(t.checkedCities)),sessionStorage.setItem("AuditDoubt",o()(t.multipleSelection)),sessionStorage.setItem("AuditDoubt_fagui",o()(t.multipleSelection1)),t.$router.push({path:"page4_3",params:{form:o()(a)}})})},resetForm:function(e){this.$refs[e].resetFields()},dataSelects:function(){var e=this;r.a.req({apiName:"yaosu"}).then(function(t){if((t=t.data)&&"200"===t.code){var a=t.data,i=t.data_moren;console.log(a);var o=[],l=[];a.forEach(function(e){o.push(e.id+" "+e.yaosu)}),i.forEach(function(e){l.push(e.id+" "+e.yaosu)}),e.cities=o,e.checkedMr=l,e.checkedCities=l,console.log(e.checkedMr)}}).catch(function(e){console.log(e)}),r.a.req({apiName:"AuditDoubt",data:{word:this.getWord}}).then(function(t){if((t=t.data)&&"200"===t.code){var a=t.data;console.log(a),e.tableData=a}}).catch(function(e){console.log(e)}),r.a.req({apiName:"AuditDoubt_fagui",data:{word:this.getWord}}).then(function(t){if((t=t.data)&&"200"===t.code){var a=t.data;console.log(a),e.tableData1=a}}).catch(function(e){console.log(e)})},prev:function(){this.active--<2&&(this.active=1)},next:function(){this.active++>3&&(this.active=4)},handleCheckAllChange:function(e){this.checkedCities=e?this.cities:[],this.checkMr=this.checkedCities===this.checkedMr,this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkMr=e===this.checkedMr,this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},handleCheckMrChange:function(e){this.checkAll=!1,e&&(this.checkedCities=this.checkedMr)}},mounted:function(){this.dataSelects()}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page4_1"},[a("div",{staticClass:"nav"},[a("ul",{staticClass:"fl"},[a("li",[a("router-link",{staticClass:"item",attrs:{"active-class":"active",to:{path:"/inside/page4_1"}}},[e._v("\n\t\t\t\t\t报告准备\n\t\t\t\t")])],1)])]),e._v(" "),a("div",{staticClass:"content_page"},[a("div",{staticClass:"page-top"},[a("Place",{staticClass:"fl",attrs:{data:e.msg}}),e._v(" "),a("div",{staticClass:"fr inter"},[a("interBtn",{attrs:{title:"报告要素",id:"more4_1",ydname:"审计报告自动生成"}})],1)],1),e._v(" "),a("div",[a("div",{staticClass:"box box-border-shadow"},[a("el-steps",{attrs:{active:e.active}},[a("el-step",{attrs:{title:"报告要素"}}),e._v(" "),a("el-step",{attrs:{title:"审计结论及建议"}}),e._v(" "),a("el-step",{attrs:{title:"审计法规及结论"}}),e._v(" "),a("el-step",{attrs:{title:"报告内容"}})],1),e._v(" "),a("div",{staticStyle:{overflow:"hidden","margin-bottom":"20px"}},[a("el-button",{staticStyle:{"margin-top":"12px",float:"left"},attrs:{disabled:1==e.active,size:"mini",round:""},on:{click:e.prev}},[e._v("上一步")]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"12px",float:"right"},attrs:{disabled:4==e.active,size:"mini",round:""},on:{click:e.next}},[e._v("下一步")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active===1"}]},[a("div",{staticClass:"text tishi-word"},[e._v("温馨提示：选择要生成的报告所包含的要素（多选）")]),e._v(" "),a("div",{staticStyle:{"margin-top":"20px","border-top":"1px solid #ccc","padding-top":"20px","box-sizing":"border-box"}},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("el-checkbox",{on:{change:e.handleCheckMrChange},model:{value:e.checkMr,callback:function(t){e.checkMr=t},expression:"checkMr"}},[e._v("恢复默认")]),e._v(" "),a("el-radio-group",{staticStyle:{"margin-left":"40px"},model:{value:e.ysType,callback:function(t){e.ysType=t},expression:"ysType"}},[a("el-radio",{attrs:{label:"社会审计"}}),e._v(" "),a("el-radio",{attrs:{label:"政府审计"}})],1),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return a("div",{staticClass:"item",class:"indent"+(t.split(".").length-1)},[a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])],1)}))],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active===2"}]},[e.tableData.length>0?a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"审计疑点",label:"审计疑点",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"审计结论",label:"审计结论","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"审计建议",label:"审计建议","show-overflow-tooltip":""}})],1)],1):a("div",[e._m(0)])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3===e.active,expression:"active===3"}]},[e.tableData1.length>0?a("div",[a("el-table",{ref:"multipleTable1",staticStyle:{width:"100%"},attrs:{data:e.tableData1,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange1}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"审计疑点",label:"审计疑点",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"审计结论",label:"审计结论","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"审计法规",label:"审计法规","show-overflow-tooltip":""}})],1)],1):a("div",[e._m(1)])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4===e.active,expression:"active===4"}]},[a("el-form",{ref:"form1",staticStyle:{width:"60%",margin:"0 auto"},attrs:{rules:e.rules,"status-icon":"","label-position":"right","label-width":"120px",model:e.form1}},[a("el-form-item",{attrs:{label:"报告名称:",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入报告名称"},model:{value:e.form1.title,callback:function(t){e.$set(e.form1,"title",t)},expression:"form1.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"报告作者:",prop:"author"}},[a("el-input",{attrs:{placeholder:"请输入报告作者"},model:{value:e.form1.author,callback:function(t){e.$set(e.form1,"author",t)},expression:"form1.author"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收件人:",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入收件人"},model:{value:e.form1.name,callback:function(t){e.$set(e.form1,"name",t)},expression:"form1.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"报告索引号:",prop:"num"}},[a("el-input",{attrs:{placeholder:"请输入报告索引号"},model:{value:e.form1.num,callback:function(t){e.$set(e.form1,"num",e._n(t))},expression:"form1.num"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form1")}}},[e._v("初稿生成")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("form1")}}},[e._v("重置")])],1)],1)],1)],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[t("i",{staticClass:"am-icon-spinner am-icon-spin"}),this._v(" loading\n\t\t\t\t\t\t")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"line-height":"100px",height:"100px","text-align":"center","font-size":"20px",color:"#b80000"}},[t("i",{staticClass:"am-icon-spinner am-icon-spin"}),this._v(" loading\n\t\t\t\t\t\t")])}]};var u=a("VU/8")(c,h,!1,function(e){a("5Uak")},"data-v-a1b3b33a",null);t.default=u.exports}});
//# sourceMappingURL=4.9482f13961c16d221618.js.map