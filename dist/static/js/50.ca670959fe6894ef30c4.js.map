{"version":3,"sources":["webpack:///src/components/fenci/tushibie/sb_page1.vue","webpack:///./src/components/fenci/tushibie/sb_page1.vue?713a","webpack:///./src/components/fenci/tushibie/sb_page1.vue"],"names":["sb_page1","name","data","imageUrl","file","msg","step","content","going","type","imgUrl","headerImage","picValue","cropper","croppable","panel","components","mounted","methods","beforeAvatarUpload","console","log","size","this","onload","window","URL","createObjectURL","photo","alert","self","image","document","getElementById","cropper_esm","aspectRatio","viewMode","background","zoomable","ready","getObjectURL","url","undefined","webkitURL","change","e","files","target","dataTransfer","length","replace","crop","croppedCanvas","roundedCanvas","getCroppedCanvas","getRoundedCanvas","toDataURL","postImg","sourceCanvas","canvas","createElement","context","getContext","width","height","imageSmoothingEnabled","drawImage","globalCompositeOperation","beginPath","fillRect","fill","submit","_this","formdata","FormData","append","$axios","post","headers","Content-Type","then","res","code","catch","error","tushibie_sb_page1","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","active","title","_v","class","hidden","staticStyle","margin-bottom","placeholder","model","value","callback","$$v","expression","label","drag","action","http-request","show-file-list","before-upload","multiple","_s","margin","plain","on","click","font-size","line-height","directives","rawName","$event","padding","src","text-align","font-weight","color","_l","item","key","border-bottom","gutter","span","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/50.ca670959fe6894ef30c4.js","sourcesContent":["<template>\r\n\t<div class=\"sb_page1\">\r\n\t\t<div class=\"fc-box\">\r\n\t\t\t<div class=\"am-container\">\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<el-steps :active=\"step\">\r\n\t\t\t\t\t  <el-step title=\"图片上传\"></el-step>\r\n\t\t\t\t\t  <!-- <el-step title=\"图片修正\"></el-step> -->\r\n\t\t\t\t\t  <el-step title=\"正在识别图片\"></el-step>\r\n\t\t\t\t\t  <el-step title=\"识别完成\"></el-step>\r\n\t\t\t\t\t</el-steps>\r\n\t\t\t\t\t<div :class=\"{hidden:step!=1}\" class=\"box updateImg\">\r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label>文件类型：</label>\r\n\t\t\t\t\t\t\t\t <el-select style=\"margin-bottom: 20px;\" v-model=\"type\" placeholder=\"请选择文件类型\">\r\n\t\t\t\t\t\t\t      <el-option label=\".png\" value=\".png\"></el-option>\r\n\t\t\t\t\t\t\t      <el-option label=\".jpg\" value=\".jpg\"></el-option>\r\n\t\t\t\t\t\t\t      <el-option label=\".pdf\" value=\".pdf\"></el-option>\r\n\t\t\t\t\t\t\t    </el-select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"upload-demo\">\r\n\t\t\t\t\t\t\t\t<el-upload\r\n\t\t\t\t\t\t\t\t    class=\"upload-demo\"\r\n\t\t\t\t\t\t\t\t    drag\r\n\t\t\t\t\t\t\t\t    action=\"\"\r\n\t\t\t\t\t\t\t\t    :http-request=\"onload\"\r\n\t\t\t\t\t\t\t\t    :show-file-list=\"false\"\r\n\t\t\t\t\t\t\t\t    :before-upload=\"beforeAvatarUpload\"\r\n\t\t\t\t\t\t\t\t     multiple>\r\n\t\t\t\t\t\t\t\t    <i class=\"el-icon-upload\"></i>\r\n\t\t\t\t\t\t\t\t    <div class=\"el-upload__text\">\r\n\t\t\t\t\t\t\t\t    \t<div>将文件拖到此处，或<em>点击上传</em></div>\r\n\t\t\t\t\t\t\t\t    \t<div>{{imageUrl}}</div>\r\n\t\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t\t\t\t<div style=\"margin: 10px auto 20px\" class=\"el-upload__tip\">{{msg}}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t <!-- <el-button type=\"primary\" plain  @click=\"photo\">图片修正</el-button> -->\r\n\t\t\t\t\t\t\t <el-button type=\"primary\" plain  @click=\"submit\">图片识别</el-button>\r\n\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- <div :class=\"{hidden:step!=2}\" class=\"box changeImg\">\r\n\t\t\t\t\t\t<PhotoCut v-if=\"step==2\" :src=\"imgUrl\"></PhotoCut>\r\n\t\t\t\t\t\t<el-button type=\"primary\" plain  @click=\"submit\">图片识别</el-button>\r\n\t\t\t\t\t</div> -->\r\n\t\t\t\t\t<div :class=\"{hidden:step!=3}\" class=\"box going\" style=\"font-size: 26px;line-height: 44px;\">\r\n\t\t\t\t\t\t<div style=\"margin-bottom: 20px;\"><i v-show=\"going!='识别失败'\" class=\"am-icon-spinner am-icon-spin\"></i> {{going}}</div>\r\n\t\t\t\t\t\t<div v-show=\"going=='识别失败'\" @click=\"step=1\" class=\"el-button el-button--primary is-plain\">返回第一步继续识别图片</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div :class=\"{hidden:step!=4}\" class=\"box finish\" style=\"padding: 80px;\">\r\n\t\t\t\t\t\t<!-- <div style=\"overflow: hidden;\">\r\n\t\t\t\t\t\t\t<img src=\"./image/发票2.jpg\" style=\"\" height=\"400\" width=\"auto\" /> -->\r\n\t\t\t\t\t\t\t<!-- <div style=\"float: right; width: 40%;margin: 0 auto;text-align: left;font-size: 16px;line-height: 34px;\">\r\n\t\t\t\t\t\t\t\t<h2>识别结果</h2>\r\n\t\t\t\t\t\t\t\t<p>发票基本信息</p>\r\n\t\t\t\t\t\t\t\t<div class=\"msg\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t<li>天津市国家税务局个人消费电子发票</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>发票代码：112001520100</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>发票号码：00000001</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>防伪码：0LY74w2Xc#e#</li>\r\n\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t<li>付款方：**</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>联系电话：150****1252</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>收款方：广州唯品会信息科技有限公司天津分公司</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>税号：120222598739263</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>开票日期：2014-12-18</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style=\"width: 40%;margin: 0 auto;text-align: left;font-size: 16px;line-height: 34px;\">\r\n\t\t\t\t\t\t\t\t<h2>识别结果</h2>\r\n\t\t\t\t\t\t\t\t<p>发票基本信息</p>\r\n\t\t\t\t\t\t\t\t<div class=\"msg\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t<li>江苏增值税电子普通发票</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>开票日期 2018年10月30日</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>购买方名称 蒋燕</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>电信服务 通讯服务费</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>金额 ￥99.80</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>价税合计 玖拾玖圆捌角零分</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>销售方名称 中国移动通信集团江苏有限公司南京分公司</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>纳税人识别号 91320000714086950U</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>地址、电话 江苏省南京市庐山路 号</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>中国工商银行南京市城北支行</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t<!-- </div> -->\r\n\t\t\t\t\t\t<img :src=\"imgUrl\" width=\"500\" height=\"auto\" />\r\n\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t<div style=\"width: 90%;margin: 0 auto;text-align: left;font-size: 16px;line-height: 34px;\">\r\n\t\t\t\t\t\t\t<h2 style=\"text-align: center;font-weight: bold;color: #b80000;font-size: 20px;line-height: 44px;\">识别结果</h2>\r\n\t\t\t\t\t\t\t<div class=\"msg\">\r\n\t\t\t\t\t\t\t\t<el-row style=\"border-bottom: 1px solid #ebebf0\" :gutter=\"20\" v-for=\"(item,key) in content\">\r\n\t\t\t\t\t\t\t\t  <el-col :span=\"6\" style=\"text-align: right;color: #b80000\">{{key}} :</el-col>\r\n\t\t\t\t\t\t\t\t  <el-col :span=\"18\">{{item?item:'无'}}</el-col>\r\n\t\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t\t\t<!-- <ul>\r\n\t\t\t\t\t\t\t\t\t<li v-for=\"(item,key) in content\" style=\"clear: both;overflow: hidden;\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"lable\" style=\"display:block;float: left;width:20%;line-height: 34px; min-width:200px;text-align: right; color: #b80000;vertical-align: top;\">{{key}} : &nbsp;&nbsp;</span><span style=\"display: block;float: left; line-height: 34px;width: 70%\">{{item?item:'无'}}</span>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul> -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div @click=\"step=1\" class=\"el-button el-button--primary is-plain\">返回第一步继续识别图片</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t    </div>\r\n        </div>\r\n\t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\n\timport reqData from \"./../../../reqData.js\"\r\n\timport amazeui from 'amazeui'\r\n\timport './../image/jquery.easyui.min.js'\r\n\timport Cropper from 'cropperjs'\r\n\timport 'cropper/dist/cropper.css'\r\n\t// import PhotoCut from './../../demo'\r\n\texport default{\r\n\t\tname:'biaoshi',\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\timageUrl: '',\r\n\t\t\t\tfile:'',\r\n\t\t\t\tmsg:'只能上传图片文件',\r\n\t\t\t\tstep:1,\r\n\t\t\t\tcontent:{},\r\n\t\t\t\tgoing:'正在识别，请稍等。。。。',\r\n\t\t\t\ttype:'',\r\n\t\t\t\timgUrl:'',\r\n\t\t\t\theaderImage:'', \r\n\t\t        picValue:'', \r\n\t\t        cropper:'', \r\n\t\t        croppable:false, \r\n\t\t        panel:true, \r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\t// PhotoCut\r\n\t\t},\r\n\t\tmounted: function(){\r\n\t\t\t \r\n\t\t},\r\n\t\tmethods:{\r\n\t\t   beforeAvatarUpload(file) {\r\n\t\t        console.log(file);\r\n\t\t        // this.imgUrl = URL.createObjectURL(file.raw);\r\n\t\t        const isJPG = file.type === 'image/jpeg';\r\n\t\t        const isLt2M = file.size / 1024 / 1024 < 2;\r\n\t\t        this.file=file;\r\n\t\t        this.imageUrl=file.name;\r\n\t\t        // if (!isJPG) {\r\n\t\t        //   this.$message.error('上传头像图片只能是 JPG 格式!');\r\n\t\t        // }\r\n\t\t        // if (!isLt2M) {\r\n\t\t        //   this.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t        // }\r\n\t\t        // return isJPG && isLt2M;\r\n\t       },\r\n\t       onload(){\r\n\t       \t\tthis.imgUrl=window.URL.createObjectURL(this.file);\r\n\t       \t\tconsole.log(window.URL.createObjectURL(this.file)); \r\n\t       },\r\n\r\n\t       photo(){\r\n\t       \t\tif(this.file===''){\r\n\t\t\t   \t\talert('请先上传文档')\r\n\t\t\t   \t}else{\r\n\t\t\t   \t\tthis.step=2;\r\n\t\t       \t\t//初始化这个裁剪框 \r\n\t\t\t\t    var self = this; \r\n\t\t\t\t    var image = document.getElementById('image'); \r\n\t\t\t\t    this.cropper = new Cropper(image, { \r\n\t\t\t\t     aspectRatio: 1, \r\n\t\t\t\t     viewMode: 1, \r\n\t\t\t\t     background:false, \r\n\t\t\t\t     zoomable:false, \r\n\t\t\t\t     ready: function () { \r\n\t\t\t\t      self.croppable = true; \r\n\t\t\t\t     } \r\n\t\t\t\t    });\r\n\t\t\t   \t}\r\n\t       },\r\n\t       getObjectURL (file) { \r\n\t\t     var url = null ;  \r\n\t\t     if (window.createObjectURL!=undefined) { // basic \r\n\t\t      url = window.createObjectURL(file) ; \r\n\t\t     } else if (window.URL!=undefined) { // mozilla(firefox) \r\n\t\t      url = window.URL.createObjectURL(file) ; \r\n\t\t     } else if (window.webkitURL!=undefined) { // webkit or chrome \r\n\t\t      url = window.webkitURL.createObjectURL(file) ; \r\n\t\t     } \r\n\t\t     return url ; \r\n\t\t    }, \r\n\t       change (e) { \r\n\t\t     let files = e.target.files || e.dataTransfer.files; \r\n\t\t     if (!files.length) return; \r\n\t\t     this.panel = true; \r\n\t\t     this.picValue = files[0]; \r\n\t\t     this.imgUrl = this.getObjectURL(this.picValue); \r\n\t\t     //每次替换图片要重新得到新的url \r\n\t\t     if(this.cropper){ \r\n\t\t      this.cropper.replace(this.imgUrl); \r\n\t\t     } \r\n\t\t     this.panel = true; \r\n\t\t    }, \r\n\t\t    crop () { \r\n\t\t      this.panel = false; \r\n\t\t      var croppedCanvas; \r\n\t\t      var roundedCanvas; \r\n\t\t      if (!this.croppable) { \r\n\t\t       return; \r\n\t\t      } \r\n\t\t      // Crop \r\n\t\t      croppedCanvas = this.cropper.getCroppedCanvas(); \r\n\t\t      console.log(this.cropper) \r\n\t\t      // Round \r\n\t\t      roundedCanvas = this.getRoundedCanvas(croppedCanvas); \r\n\t\t      this.headerImage = roundedCanvas.toDataURL(); \r\n\t\t      this.imgUrl=this.headerImage;\r\n\t\t      console.log(roundedCanvas.toDataURL());\r\n\t\t      this.postImg() \r\n\t\t    }, \r\n\t\t    getRoundedCanvas (sourceCanvas) { \r\n\t\t     var canvas = document.createElement('canvas'); \r\n\t\t     var context = canvas.getContext('2d'); \r\n\t\t     var width = sourceCanvas.width; \r\n\t\t     var height = sourceCanvas.height; \r\n\t\t     canvas.width = width; \r\n\t\t     canvas.height = height; \r\n\t\t     context.imageSmoothingEnabled = true; \r\n\t\t     context.drawImage(sourceCanvas, 0, 0, width, height); \r\n\t\t     context.globalCompositeOperation = 'destination-in'; \r\n\t\t     context.beginPath(); \r\n\t\t     context.fillRect(0,0,width, height); \r\n\t\t     context.fill(); \r\n\t\t     return canvas; \r\n\t\t    }, \r\n\t\t    postImg () { \r\n\t\t     //这边写图片的上传 \r\n\t\t    },\r\n\t       submit(){\r\n\t\t\t   \t//初始化\r\n\t\t\t   \tthis.going='正在识别，请稍等。。。。';\r\n\t\t\t   \tthis.content='';\r\n\r\n\r\n\t\t\t   \tconsole.log(this.file);\r\n\t\t   \t\tconst isJPG = this.file.type === 'image/jpeg';\r\n\t\t        // const isLt2M = this.file.size / 1024 / 1024 < 2;\r\n\r\n\t\t        // if (!isJPG) {\r\n\t\t        //   this.msg='上传头像图片只能是 JPG 格式!';\r\n\t\t        // }\r\n\t\t        // if (!isLt2M) {\r\n\t\t        //   this.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t        // }\r\n\t\t\t   \tif(this.file===''){\r\n\t\t\t   \t\talert('请先上传文档')\r\n\t\t\t   \t}else{\r\n\t\t\t   \t\tthis.step=3;\r\n\t\t\t\t  \tlet formdata = new FormData();\r\n\t\t\t\t  \tformdata.append('headimg',this.file);\r\n\t\t\t\t\tformdata.append('fenlei',this.type);\r\n\t\t\t\t\tconsole.log(formdata);\r\n\t\t\t\t  \tlet config = {\r\n\t\t            headers: {\r\n\t\t                'Content-Type': 'multipart/form-data'  \r\n\t\t            }\r\n\t\t        };\r\n\t\t        this.$axios.post('http://121.42.29.188:10000/fapiaoshibie', formdata, config)\r\n\t\t\t\t.then( (res) => {\r\n\t\t\t\t\tres = res.data;\r\n\t\t          \tif (res && res.code === \"200\") {\r\n\t\t\t            let data = res.data;\r\n\t\t\t            console.log(data);\r\n\t\t\t            //做处理\r\n\t\t\t\t\t\tthis.file==='';\r\n\t\t\t\t\t\t// data.forEach((value)=>{\r\n\t\t\t\t\t\t// \tif(value===''){\r\n\t\t\t\t\t\t// \t\tvalue='<br/>'\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// \tthis.content+=value;\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t// console.log(this.content);\r\n\t\t\t\t\t\tthis.content=data;\r\n\t\t\t\t\t\tthis.step=4;\r\n\t\t          \t}\r\n\t            }).catch((error) =>{\r\n\t\t\t\t\tthis.going=\"识别失败\"\r\n\t\t\t\t});\r\n\t\t   \t}\r\n\t\t\t  \t\r\n\t\t  \t}\r\n\t\t},\r\n\t}\r\n</script>\r\n<style scoped=\"\">\r\n\t.hidden{\r\n\t\tdisplay: none;\r\n\t}\r\n\t.fc-box{\r\n\t\tmin-height: 600px;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin: 20px auto;\r\n\t}\r\n    .am-container{\r\n        max-width: 1500px;\r\n        box-sizing: border-box;\r\n    }\r\n    .content{\r\n    \ttext-align: center;\r\n    \tmargin: 0 auto;\r\n    \twidth: 80%;\r\n    \tmargin-top: 40px;\r\n    }\r\n    .content .box{\r\n    \tmargin-top: 40px;\r\n    }\r\n    .content .box.finish{\r\n    \tpadding: 30px 40px;\r\n    \tbox-sizing: border-box;\r\n    \ttext-align: center;\r\n    \tborder-radius: 8px;\r\n    \tbox-shadow: 0 1px 6px rgba(0,0,0,0.4);\r\n    }\r\n    .content .box.finish p{\r\n    \ttext-align: justify;\r\n    }\r\n    .content .box.finish .el-button{\r\n    \tmargin-top: 30px;\r\n    }\r\n    .content .el-steps--horizontal {\r\n\t    text-align: justify;\r\n\t}\r\n\t.avatar-uploader .el-upload {\r\n\t    border: 1px dashed #d9d9d9;\r\n\t    border-radius: 6px;\r\n\t    cursor: pointer;\r\n\t    position: relative;\r\n\t    overflow: hidden;\r\n\t}\r\n\t.avatar-uploader .el-upload:hover {\r\n\t    border-color: #409EFF;\r\n\t}\r\n\t.avatar-uploader-icon {\r\n\t    font-size: 28px;\r\n\t    color: #8c939d;\r\n\t    width: 178px;\r\n\t    height: 178px;\r\n\t    line-height: 178px;\r\n\t    text-align: center;\r\n\t}\r\n\t.avatar {\r\n\t    width: 178px;\r\n\t    height: 178px;\r\n\t    display: block;\r\n\t}\r\n\t.el-upload {\r\n\t    width: 50%;\r\n\t}\r\n\t.el-upload-dragger{\r\n\t\twidth: 100%;\r\n\t}\r\n\t.el-upload__input {\r\n\t    position: absolute;\r\n\t    top: 0;\r\n\t    bottom: 0;\r\n\t    left: 0;\r\n\t    right: 0;\r\n\t    width: 100%;\r\n\t    opacity: 0;\r\n\t    cursor: pointer;\r\n\t}\r\n\t.el-upload__input:hover{\r\n\t\tborder:1px solid #ccc;\r\n\t}\r\n\t.el-upload-dragger .el-upload__text em {\r\n\t    color: #b80000;\r\n\t}\r\n\t.el-button--primary.is-plain {\r\n\t    color: #b80000;\r\n\t    background: #fff2f2;\r\n\t    border-color: #b80000;\r\n\t}\r\n\t.el-button--primary.is-plain:hover {\r\n\t    background: #b80000;\r\n\t    border-color: #b80000;\r\n\t    color: #fff;\r\n\t}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/fenci/tushibie/sb_page1.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sb_page1\"},[_c('div',{staticClass:\"fc-box\"},[_c('div',{staticClass:\"am-container\"},[_c('div',{staticClass:\"content\"},[_c('el-steps',{attrs:{\"active\":_vm.step}},[_c('el-step',{attrs:{\"title\":\"图片上传\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"正在识别图片\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"识别完成\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"box updateImg\",class:{hidden:_vm.step!=1}},[_c('form',[_c('div',[_c('label',[_vm._v(\"文件类型：\")]),_vm._v(\" \"),_c('el-select',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"placeholder\":\"请选择文件类型\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},[_c('el-option',{attrs:{\"label\":\".png\",\"value\":\".png\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\".jpg\",\"value\":\".jpg\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\".pdf\",\"value\":\".pdf\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"upload-demo\"},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"action\":\"\",\"http-request\":_vm.onload,\"show-file-list\":false,\"before-upload\":_vm.beforeAvatarUpload,\"multiple\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__text\"},[_c('div',[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.imageUrl))])])]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",staticStyle:{\"margin\":\"10px auto 20px\"}},[_vm._v(_vm._s(_vm.msg))])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\"图片识别\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"box going\",class:{hidden:_vm.step!=3},staticStyle:{\"font-size\":\"26px\",\"line-height\":\"44px\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.going!='识别失败'),expression:\"going!='识别失败'\"}],staticClass:\"am-icon-spinner am-icon-spin\"}),_vm._v(\" \"+_vm._s(_vm.going))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.going=='识别失败'),expression:\"going=='识别失败'\"}],staticClass:\"el-button el-button--primary is-plain\",on:{\"click\":function($event){_vm.step=1}}},[_vm._v(\"返回第一步继续识别图片\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box finish\",class:{hidden:_vm.step!=4},staticStyle:{\"padding\":\"80px\"}},[_c('img',{attrs:{\"src\":_vm.imgUrl,\"width\":\"500\",\"height\":\"auto\"}}),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"90%\",\"margin\":\"0 auto\",\"text-align\":\"left\",\"font-size\":\"16px\",\"line-height\":\"34px\"}},[_c('h2',{staticStyle:{\"text-align\":\"center\",\"font-weight\":\"bold\",\"color\":\"#b80000\",\"font-size\":\"20px\",\"line-height\":\"44px\"}},[_vm._v(\"识别结果\")]),_vm._v(\" \"),_c('div',{staticClass:\"msg\"},_vm._l((_vm.content),function(item,key){return _c('el-row',{staticStyle:{\"border-bottom\":\"1px solid #ebebf0\"},attrs:{\"gutter\":20}},[_c('el-col',{staticStyle:{\"text-align\":\"right\",\"color\":\"#b80000\"},attrs:{\"span\":6}},[_vm._v(_vm._s(key)+\" :\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_vm._v(_vm._s(item?item:'无'))])],1)}))]),_vm._v(\" \"),_c('div',{staticClass:\"el-button el-button--primary is-plain\",on:{\"click\":function($event){_vm.step=1}}},[_vm._v(\"返回第一步继续识别图片\")])])],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5e724a2c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/fenci/tushibie/sb_page1.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5e724a2c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sb_page1.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sb_page1.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sb_page1.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5e724a2c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sb_page1.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5e724a2c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/fenci/tushibie/sb_page1.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}