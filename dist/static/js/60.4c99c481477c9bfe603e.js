webpackJsonp([60],{s4ze:function(t,e){},vJfy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("Nf9k"),i=(a("XLwt"),a("mtWM"),{name:"sb_page4",data:function(){return{fileUrl:"",msg:"将数据导入数据库",file:"",active:1,options:[{value:"选项1",label:"发票数据"},{value:"选项2",label:"发票名称"},{value:"选项3",label:"发票信息"},{value:"选项4",label:"发票时间"},{value:"选项5",label:"发票代码"}],value:""}},components:{},methods:{onload:function(){},download:function(){var t=this;l.a.req({apiName:"InvioceToData",responseType:"blob"}).then(function(e){var a=e.data;if(a){var l=window.URL.createObjectURL(new Blob([a])),i=document.createElement("a");i.style.display="none",i.href=l,i.setAttribute("download","excel.xls"),document.body.appendChild(i),i.click(),t.active=2}}).catch(function(t){console.log(t)})},saveData:function(){},beforeAvatarUpload:function(t){console.log(t),this.file=t,this.fileUrl=t.name},submit:function(){if(""===this.file)alert("请先上传文档");else{var t=new FormData;t.append("file",this.file),t.append("type1","发票信息"),t.append("type2","发票信息"),t.append("type3","发票信息"),t.append("file",this.file),console.log(t);this.$axios.post("http://121.42.29.188:10000/file_text",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if((t=t.data)&&"200"===t.code){var e=t.data;console.log(e),alert("提交成功")}}).catch(function(t){alert("提交成功")})}}},mounted:function(){}}),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sb_page4"},[a("div",{staticClass:"cont"},[a("div",{staticClass:"progress"},[a("el-steps",{attrs:{direction:"vertical",active:t.active}},[a("el-step",{attrs:{title:"下载文件"}}),t._v(" "),a("el-step",{attrs:{title:"修改文件"}}),t._v(" "),a("el-step",{attrs:{title:"上传文件"}})],1)],1),t._v(" "),a("div",{staticClass:"content_right",staticStyle:{"text-align":"center","line-height":"60px"}},[a("div",{class:{hidden:1!=t.active},staticStyle:{"margin-top":"200px"}},[a("el-select",{attrs:{placeholder:"请选择文件类型"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),a("br"),t._v(" "),a("el-button",{attrs:{plain:""},on:{click:function(e){t.download()}}},[t._v("点击下载文件")])],1),t._v(" "),a("div",{class:{hidden:2!=t.active}},[a("p",{staticStyle:{"margin-top":"200px","text-align":"center","font-size":"18px"}},[t._v("\n\t\t\t\t\t文件下载完成，请点击左下角打开已下载的文件\n\t\t\t\t")]),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"default",plain:""},on:{click:function(e){t.active=1}}},[t._v("上一步")]),t._v(" "),a("el-button",{attrs:{type:"default",plain:""},on:{click:function(e){t.active=3}}},[t._v("下一步")])],1)],1),t._v(" "),a("div",{staticClass:"upload-demo",class:{hidden:3!=t.active},staticStyle:{"margin-top":"130px"}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","http-request":t.onload,"show-file-list":!1,"before-upload":t.beforeAvatarUpload,multiple:""}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text",staticStyle:{"line-height":"30px"}},[a("div",[t._v(t._s(t.fileUrl))]),t._v(" "),a("div",[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])])])]),t._v(" "),a("div",{staticClass:"el-upload__tip"},[t._v(t._s(t.msg))]),t._v(" "),a("el-button",{attrs:{plain:""},on:{click:t.submit}},[t._v("点击将文件上传至服务器")]),t._v(" "),a("el-button",{attrs:{type:"default",plain:""},on:{click:function(e){t.active=1}}},[t._v("返回第一步")])],1)])])])},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(t){a("s4ze")},"data-v-281c4fa5",null);e.default=o.exports}});
//# sourceMappingURL=60.4c99c481477c9bfe603e.js.map